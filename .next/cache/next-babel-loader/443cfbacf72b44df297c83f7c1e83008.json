{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Graham\\\\ObjectLand\\\\main\\\\OLWebFull\\\\src\\\\Iframe.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\n\nvar IframeBase =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(IframeBase, _React$Component);\n\n  function IframeBase() {\n    _classCallCheck(this, IframeBase);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(IframeBase).apply(this, arguments));\n  }\n\n  _createClass(IframeBase, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          theRef = _this$props.theRef,\n          ps = _objectWithoutProperties(_this$props, [\"theRef\"]);\n\n      return __jsx(\"iframe\", _extends({\n        ref: composeRefs(theRef, function (i) {\n          _this.listener && window.removeEventListener('message', _this.listener);\n          window.addEventListener('message', _this.listener = function (m) {\n            if (m.source === i) {\n              _this.props.onMessage(m);\n            }\n          });\n        })\n      }, ps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 4\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return IframeBase;\n}(React.Component);\n\nvar Iframe;\nexport default Iframe = React.forwardRef(function (props, ref) {\n  return __jsx(IframeBase, _extends({}, props, {\n    theRef: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }));\n});","map":{"version":3,"sources":["D:/Graham/ObjectLand/main/OLWebFull/src/Iframe.js"],"names":["React","composeRefs","IframeBase","props","theRef","ps","i","listener","window","removeEventListener","addEventListener","m","source","onMessage","Component","Iframe","forwardRef","ref"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;IACMC,U;;;;;;;;;;;;;6BACE;AAAA;;AAAA,wBAAsB,KAAKC,KAA3B;AAAA,UAAMC,MAAN,eAAMA,MAAN;AAAA,UAAgBC,EAAhB;;AAAiC,aAAQ;AAAQ,QAAA,GAAG,EAAIJ,WAAW,CAACG,MAAD,EAAQ,UAACE,CAAD,EAAO;AAAC,UAAA,KAAI,CAACC,QAAL,IAAiBC,MAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAqC,KAAI,CAACF,QAA1C,CAAjB;AAAsEC,UAAAA,MAAM,CAACE,gBAAP,CAAwB,SAAxB,EAAkC,KAAI,CAACH,QAAL,GAAgB,UAAAI,CAAC,EAAI;AAAC,gBAAGA,CAAC,CAACC,MAAF,KAAaN,CAAhB,EAAkB;AAAC,cAAA,KAAI,CAACH,KAAL,CAAWU,SAAX,CAAqBF,CAArB;AAAwB;AAAC,WAApG;AAAsG,SAA5L;AAA1B,SAA6NN,EAA7N;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAR;AAAoP;;;;EADpQL,KAAK,CAACc,S;;AAI/B,IAAIC,MAAJ;AACA,eAAeA,MAAM,GAAGf,KAAK,CAACgB,UAAN,CAAiB,UAACb,KAAD,EAAOc,GAAP;AAAA,SAAgB,MAAC,UAAD,eAAgBd,KAAhB;AAAuB,IAAA,MAAM,EAAIc,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;AAAA,CAAjB,CAAxB","sourcesContent":["import React from 'react'\r\nimport composeRefs from '@seznam/compose-react-refs'\r\nclass IframeBase extends React.Component{\r\nrender(){let {theRef,...ps} = this.props;return (<iframe ref = {composeRefs(theRef,(i) => {this.listener && window.removeEventListener('message',this.listener); window.addEventListener('message',this.listener = m => {if(m.source === i){this.props.onMessage(m)}})})} {...ps}></iframe>)}\r\n\r\n}\r\nlet Iframe;\r\nexport default Iframe = React.forwardRef((props,ref) => (<IframeBase {...props} theRef = {ref}></IframeBase>))"]},"metadata":{},"sourceType":"module"}