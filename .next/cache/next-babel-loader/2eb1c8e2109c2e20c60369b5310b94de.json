{"ast":null,"code":"import { get } from 'https';\nimport * as replaceStream from 'replacestream';\nexport default ((req, res) => {\n  const {\n    query: {\n      lid\n    }\n  } = req;\n  const url = 'https://' + lid + '.wikipedia.org';\n  get(url, r => get(r.headers.location, r => r.on('end', res.end.bind(res)).pipe(replaceStream('</body>', '<h6>ObjectLand effected</h6></body>')).pipe(res, {\n    end: false\n  })));\n});","map":{"version":3,"sources":["D:/Graham/ObjectLand/main/OLWebFull/pages/api/lang/[lid]/index.js"],"names":["get","replaceStream","req","res","query","lid","url","r","headers","location","on","end","bind","pipe"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,OAAlB;AACA,OAAO,KAAKC,aAAZ,MAA+B,eAA/B;AACA,gBAAe,CAACC,GAAD,EAAKC,GAAL,KAAa;AACxB,QAAM;AACFC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AADL,MAEAH,GAFN;AAGE,QAAMI,GAAG,GAAG,aAAaD,GAAb,GAAmB,gBAA/B;AACAL,EAAAA,GAAG,CAACM,GAAD,EAAKC,CAAC,IAAIP,GAAG,CAACO,CAAC,CAACC,OAAF,CAAUC,QAAX,EAAoBF,CAAC,IAAIA,CAAC,CAACG,EAAF,CAAK,KAAL,EAAWP,GAAG,CAACQ,GAAJ,CAAQC,IAAR,CAAaT,GAAb,CAAX,EAA8BU,IAA9B,CAAmCZ,aAAa,CAAC,SAAD,EAAW,qCAAX,CAAhD,EAAmGY,IAAnG,CAAwGV,GAAxG,EAA4G;AAACQ,IAAAA,GAAG,EAAE;AAAN,GAA5G,CAAzB,CAAb,CAAH;AAEL,CAPD","sourcesContent":["import {get} from 'https'\r\nimport * as replaceStream from 'replacestream'\r\nexport default (req,res) => {\r\n    const {\r\n        query: { lid },\r\n      } = req;\r\n      const url = 'https://' + lid + '.wikipedia.org';\r\n      get(url,r => get(r.headers.location,r => r.on('end',res.end.bind(res)).pipe(replaceStream('</body>','<h6>ObjectLand effected</h6></body>')).pipe(res,{end: false})));\r\n\r\n}"]},"metadata":{},"sourceType":"module"}