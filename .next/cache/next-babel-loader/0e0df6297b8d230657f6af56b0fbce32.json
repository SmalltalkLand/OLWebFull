{"ast":null,"code":"import { get } from 'https';\nimport * as replaceStream from 'replacestream';\nexport default ((req, res) => {\n  const {\n    query: {\n      lid\n    }\n  } = req;\n  const url = 'https://' + lid + '.wikipedia.org';\n  let s;\n  get(url, r => get(r.headers.location, r => r.on('end', () => s.end()).pipe(s = replaceStream('</body>', '<h6>ObjectLand effected</h6></body>'), {\n    end: false\n  }).pipe(res)));\n});","map":{"version":3,"sources":["/home/graham/ol/OLWebFull/pages/api/lang/[lid]/index.js"],"names":["get","replaceStream","req","res","query","lid","url","s","r","headers","location","on","end","pipe"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,OAAlB;AACA,OAAO,KAAKC,aAAZ,MAA+B,eAA/B;AACA,gBAAe,CAACC,GAAD,EAAKC,GAAL,KAAa;AACxB,QAAM;AACFC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AADL,MAEAH,GAFN;AAGE,QAAMI,GAAG,GAAG,aAAaD,GAAb,GAAmB,gBAA/B;AACA,MAAIE,CAAJ;AACAP,EAAAA,GAAG,CAACM,GAAD,EAAKE,CAAC,IAAIR,GAAG,CAACQ,CAAC,CAACC,OAAF,CAAUC,QAAX,EAAoBF,CAAC,IAAIA,CAAC,CAACG,EAAF,CAAK,KAAL,EAAW,MAAMJ,CAAC,CAACK,GAAF,EAAjB,EAA0BC,IAA1B,CAA+BN,CAAC,GAAGN,aAAa,CAAC,SAAD,EAAW,qCAAX,CAAhD,EAAkG;AAACW,IAAAA,GAAG,EAAE;AAAN,GAAlG,EAAgHC,IAAhH,CAAqHV,GAArH,CAAzB,CAAb,CAAH;AAEL,CARD","sourcesContent":["import {get} from 'https'\nimport * as replaceStream from 'replacestream'\nexport default (req,res) => {\n    const {\n        query: { lid },\n      } = req;\n      const url = 'https://' + lid + '.wikipedia.org';\n      let s;\n      get(url,r => get(r.headers.location,r => r.on('end',() => s.end()).pipe(s = replaceStream('</body>','<h6>ObjectLand effected</h6></body>'),{end: false}).pipe(res)));\n\n}"]},"metadata":{},"sourceType":"module"}