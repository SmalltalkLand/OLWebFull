{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\Graham\\\\ObjectLand\\\\main\\\\OLWebFull\\\\src\\\\Iframe.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\n\nclass IframeBase extends React.Component {\n  render() {\n    let _this$props = this.props,\n        {\n      theRef\n    } = _this$props,\n        ps = _objectWithoutProperties(_this$props, [\"theRef\"]);\n\n    return __jsx(\"iframe\", _extends({\n      ref: composeRefs(theRef, i => {\n        this.listener && window.removeEventListener('message', this.listener);\n        window.addEventListener('message', this.listener = m => {\n          if (m.source === i.contentWindow) {\n            this.props.onMessage(m);\n          }\n        });\n      })\n    }, ps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4\n      },\n      __self: this\n    }));\n  }\n\n}\n\nlet Iframe;\nexport default Iframe = React.forwardRef((props, ref) => __jsx(IframeBase, _extends({}, props, {\n  theRef: ref,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n})));","map":{"version":3,"sources":["D:/Graham/ObjectLand/main/OLWebFull/src/Iframe.js"],"names":["React","composeRefs","IframeBase","Component","render","props","theRef","ps","i","listener","window","removeEventListener","addEventListener","m","source","contentWindow","onMessage","Iframe","forwardRef","ref"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;AACA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAwC;AACxCC,EAAAA,MAAM,GAAE;AAAC,sBAAqB,KAAKC,KAA1B;AAAA,QAAI;AAACC,MAAAA;AAAD,KAAJ;AAAA,QAAeC,EAAf;;AAAgC,WAAQ;AAAQ,MAAA,GAAG,EAAIN,WAAW,CAACK,MAAD,EAASE,CAAD,IAAO;AAAC,aAAKC,QAAL,IAAiBC,MAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAqC,KAAKF,QAA1C,CAAjB;AAAsEC,QAAAA,MAAM,CAACE,gBAAP,CAAwB,SAAxB,EAAkC,KAAKH,QAAL,GAAgBI,CAAC,IAAI;AAAC,cAAGA,CAAC,CAACC,MAAF,KAAaN,CAAC,CAACO,aAAlB,EAAgC;AAAC,iBAAKV,KAAL,CAAWW,SAAX,CAAqBH,CAArB;AAAwB;AAAC,SAAlH;AAAoH,OAA1M;AAA1B,OAA2ON,EAA3O;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAR;AAAkQ;;AADnQ;;AAIxC,IAAIU,MAAJ;AACA,eAAeA,MAAM,GAAGjB,KAAK,CAACkB,UAAN,CAAiB,CAACb,KAAD,EAAOc,GAAP,KAAgB,MAAC,UAAD,eAAgBd,KAAhB;AAAuB,EAAA,MAAM,EAAIc,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjC,CAAxB","sourcesContent":["import React from 'react'\r\nimport composeRefs from '@seznam/compose-react-refs'\r\nclass IframeBase extends React.Component{\r\nrender(){let {theRef,...ps} = this.props;return (<iframe ref = {composeRefs(theRef,(i) => {this.listener && window.removeEventListener('message',this.listener); window.addEventListener('message',this.listener = m => {if(m.source === i.contentWindow){this.props.onMessage(m)}})})} {...ps}></iframe>)}\r\n\r\n}\r\nlet Iframe;\r\nexport default Iframe = React.forwardRef((props,ref) => (<IframeBase {...props} theRef = {ref}></IframeBase>))"]},"metadata":{},"sourceType":"module"}